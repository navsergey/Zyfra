<div class="app-wrapper">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <app-sidebar-component
      [contexts]="contexts"
      [selectedContextId]="selectedContextId"
      (contextSelected)="onContextSelected($event)">
    </app-sidebar-component>
    <!-- –ü—Ä–∞–≤–∞—è –æ–±–ª–∞—Å—Ç—å -->
    <main class="chat-area">
        <header class="top-bar">
            <h1 class="chat-title">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç <span>–¶–∏—Ñ—Ä—ã</span></h1>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>–û–Ω–ª–∞–π–Ω</span>
            </div>
        </header>

        <div class="messages-area" id="chatMessages">
            <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω -->
            <div class="welcome-container" id="welcomeView" *ngIf="showWelcome">
                <div class="welcome-graphic"></div>
                <h2 class="welcome-heading">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <span class="highlight">–¶–∏—Ñ—Ä–∞ AI</span></h2>
                <p class="welcome-description">
                    –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞.
                    –ü–æ–º–æ–≥–∞—é —Å —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, –∞–Ω–∞–ª–∏–∑–æ–º –¥–∞–Ω–Ω—ã—Ö –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
                </p>
                <div class="prompts-grid">
                    <div class="prompt-card" (click)="useSamplePrompt('–ö–∞–∫ –ø–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é IoT?')">
                        <div class="prompt-icon">üìä</div>
                        <div class="prompt-label">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                        <div class="prompt-description">–ö–∞–∫ –ø–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é IoT?</div>
                    </div>
                    <div class="prompt-card" (click)="useSamplePrompt('–†–∞—Å—Å–∫–∞–∂–∏ –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ ZIIoT –¥–ª—è –Ω–µ—Ñ—Ç–µ–≥–∞–∑–∞')">
                        <div class="prompt-icon">‚öôÔ∏è</div>
                        <div class="prompt-label">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ ZIIoT</div>
                        <div class="prompt-description">–†–∞—Å—Å–∫–∞–∂–∏ –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ ZIIoT –¥–ª—è –Ω–µ—Ñ—Ç–µ–≥–∞–∑–∞</div>
                    </div>
                    <div class="prompt-card" (click)="useSamplePrompt('–ö–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≥–æ—Ä–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏?')">
                        <div class="prompt-icon">‚õèÔ∏è</div>
                        <div class="prompt-label">–ì–æ—Ä–Ω–∞—è –æ—Ç—Ä–∞—Å–ª—å</div>
                        <div class="prompt-description">–ö–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≥–æ—Ä–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏?</div>
                    </div>
                    <div class="prompt-card" (click)="useSamplePrompt('–ö–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å —Ä–æ–±–æ—Ç–∏–∑–∞—Ü–∏—é –Ω–∞ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–∏?')">
                        <div class="prompt-icon">ü§ñ</div>
                        <div class="prompt-label">–†–æ–±–æ—Ç–∏–∑–∞—Ü–∏—è</div>
                        <div class="prompt-description">–ö–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å —Ä–æ–±–æ—Ç–∏–∑–∞—Ü–∏—é –Ω–∞ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–∏?</div>
                    </div>
                </div>
            </div>

            <!-- –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ -->
            <div class="chat-message" [class.user]="message.sender === 'user'" [class.assistant]="message.sender === 'assistant'" *ngFor="let message of chatHistory">
                <div class="message-icon">{{ getMessageIcon(message.sender) }}</div>
                <div class="message-body">
                    <div class="message-bubble">{{ message.text }}</div>
                </div>
            </div>
        </div>

        <footer class="input-container" *ngIf="!showWelcome">
            <div class="input-box-wrapper">
                <textarea
                    class="text-input"
                    id="userInput"
                    placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏..."
                    rows="1"
                    [(ngModel)]="userInput"
                    (keydown)="checkEnter($event)"
                    (input)="adjustHeight($event)"></textarea>
                <button class="btn-send" (click)="submitMessage()">
                    <svg class="send-svg" viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </footer>
    </main>
</div>
